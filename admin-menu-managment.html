<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Administración del Menú - Lolo's Café</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/src/styles/main.css" />
</head>
<body>
    <!-- Header -->
    <div id="header-placeholder"></div>
    <!-- Page -->
    <main class="container-fluid">
        <div class="row g-0">
            <!-- Sidebar -->
            <section class="admin-sidebar-container col-12 col-md-2 p-2 border-end min-vh-100">
                <div class="py-5 px-3">
                    <a href="/" class="navbar-brand">
                        <img src="/public/logos/loloscafe-vector.svg" class="mb-3" alt="Lolo's Café Logo">
                    </a>
                    <h3>Admin</h3>
                </div>

                <!-- Sidebar navigation -->
                <nav class="nav-admin-sidebar px-3">
                    <ul class="navbar-nav mx-auto mb-lg-0">
                        <li class="nav-item"><a class="nav-link" href="/">Dashboard</a></li>
                        <li class="nav-item"><a class="nav-link" href="/contact.html">Productos</a></li>
                        <li class="nav-item"><a class="nav-link" href="/about-us.html">Gestión de pedidos</a></li>
                        <li class="nav-item"><a class="nav-link" href="#">Usuarios</a></li>
                        <li class="nav-item"><a class="nav-link" href="#">Menú</a></li>
                        <li class="nav-item"><a class="nav-link" href="#">Configuración</a></li>
                    </ul>
                </nav>
            </section>

            <!-- Main content -->
            <section class="dashboard-admin col-12 col-md-10 p-3">
                <!-- Page header: title, search, export -->
                <div class="header-dashboard pt-3 px-0 pb-1">
                    <div class="row align-items-center g-3">
                        <div class="col-12 col-md-8">
                            <h3 class="mb-1">Menú</h3>
                            <p class="mb-0">Consulta y edita los productos disponibles en el menú.</p>
                        </div>
                        <div class="col-12 col-md-2">
                            <div class="input-group">
                                <input type="text" class="form-control rounded-0 text-md-center" placeholder="Producto"
                                    aria-label="Buscar producto">
                                <span class="input-group-text bg-white rounded-0">
                                    <animated-icons
                                        src="https://animatedicons.co/get-icon?name=search&style=minimalistic&token=12e9ffab-e7da-417f-a9d9-d7f67b64d808"
                                        trigger="hover"
                                        attributes='{"variationThumbColour":"#536DFE","variationName":"Two Tone","variationNumber":2,"numberOfGroups":2,"backgroundIsGroup":false,"strokeWidth":1,"defaultColours":{"group-1":"#848484FF","group-2":"#6F3030FF","background":"#FFFFFF"}}'
                                        height="3em" width="3em"></animated-icons>
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-md-2 d-flex justify-content-md-end">
                            <a href="#" class="btn btn-outline-dark rounded-0 w-100 w-md-auto">
                                GENERAR MENÚ PDF
                            </a>
                        </div>
                    </div>
                </div>
                <!-- Submenu buttons -->
                <div class="d-flex w-100 text-center top-buttons pt-4 ">
                    <a href="#" class="flex-fill btn btn-outline-dark rounded-0">CON CAFÉ</a>
                    <a href="#" class="flex-fill btn btn-outline-dark rounded-0">SIN CAFÉ</a>
                    <a href="#" class="flex-fill btn btn-outline-dark rounded-0">POSTRES</a>
                    <a href="#" class="flex-fill btn btn-outline-dark rounded-0">EXTRAS</a>
                    <a href="#" class="flex-fill btn btn-outline-dark rounded-0">PROMOCIONES</a>
                </div>
                <!-- Section title + Add button -->
                <div class="pt-5 px-0 pb-1">
                    <div class="row align-items-center g-3">
                        <!-- Subsection title -->
                        <div class="col-12 col-md-10">
                            <h4 class="mb-1">Postres</h4>
                        </div>
                        <!-- Add new item -->
                        <div class="col-12 col-md-2 d-flex justify-content-md-end">
                            <button type="button" class="btn btn-outline-dark rounded-0 w-100 w-md-auto"
                                data-bs-toggle="modal" data-bs-target="#modal-drink">
                                AGREGAR +
                            </button>
                        </div>
                    </div>
                </div>
                <!-- Product grid -->
                <div class="container-fluid pt-5">
                    <div class="row g-4">
                        <!-- Product card -->
                        <div class="col-6 col-sm-4 col-md-3 mb-4 drink">
                            <div class="card" data-bs-toggle="modal" data-bs-target="#modal-drink"
                                style="cursor: pointer;">
                                <p class="new-drink col-12 text-center pt-1 pb-0">Nuevo</p>
                                <img src="/public/images/index/pay-lotus.png" class="card-img-top" alt="Pay Lotus">
                                <div class="card-body row">
                                    <p class="card-title col-6">Matcha</p>
                                    <p class="price col-6 text-end">$5.99</p>
                                    <p class="card-text">Lorem ipsum dolor sit amet consectetur, ant facilis ullam enim,
                                        doloribus</p>
                                </div>
                            </div>
                        </div>
                        <!-- Product card -->
                        <div class="col-6 col-sm-4 col-md-3 mb-4 drink">
                            <div class="card" data-bs-toggle="modal" data-bs-target="#modal-drink"
                                style="cursor: pointer;">
                                <p class="new-drink col-12 text-center pt-1 pb-0">Nuevo</p>
                                <img src="/public/images/index/rol-de-canela.png" class="card-img-top"
                                    alt="Rol de canela">
                                <div class="card-body row">
                                    <p class="card-title col-6">Matcha</p>
                                    <p class="price col-6 text-end">$5.99</p>
                                    <p class="card-text">Lorem ipsum dolor sit amet consectetur, ant facilis ullam enim,
                                        doloribus</p>
                                </div>
                            </div>
                        </div>
                        <!-- Product card -->
                        <div class="col-6 col-sm-4 col-md-3 mb-4 drink">
                            <div class="card" data-bs-toggle="modal" data-bs-target="#modal-drink"
                                style="cursor: pointer;">
                                <p class="new-drink col-12 text-center pt-1 pb-0">Nuevo</p>
                                <img src="/public/images/index/pay-lotus.png" class="card-img-top" alt="Pay Lotus">
                                <div class="card-body row">
                                    <p class="card-title col-6">Matcha</p>
                                    <p class="price col-6 text-end">$5.99</p>
                                    <p class="card-text">Lorem ipsum dolor sit amet consectetur, ant facilis ullam enim,
                                        doloribus</p>
                                </div>
                            </div>
                        </div>
                        <!-- Product card -->
                        <div class="col-6 col-sm-4 col-md-3 mb-4 drink">
                            <div class="card" data-bs-toggle="modal" data-bs-target="#modal-drink"
                                style="cursor: pointer;">
                                <p class="new-drink col-12 text-center pt-1 pb-0">Nuevo</p>
                                <img src="/public/images/index/cheescake.png" class="card-img-top" alt="Cheesecake">
                                <div class="card-body row">
                                    <p class="card-title col-6">Matcha</p>
                                    <p class="price col-6 text-end">$5.99</p>
                                    <p class="card-text">Lorem ipsum dolor sit amet consectetur, ant facilis ullam enim,
                                        doloribus</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- New product modal -->
                <div class="modal fade" id="modal-drink" tabindex="-1" aria-hidden="true">
                    <form id="product-form">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-body p-4">

                                    <!-- Modal header -->
                                    <div class="d-flex align-items-center mb-4">
                                        <button type="button" class="btn border-0 p-0 me-2" data-bs-dismiss="modal">
                                        <!-- <button type="button" class="btn border-0 p-0 me-2" data-bs-dismiss="modal" aria-label="Cerrar"> -->
                                            <i class="bi bi-arrow-left fs-4"></i>
                                        </button>
                                        <h3 class="mb-0">Agregar / Editar producto</h3>
                                    </div>

                                <!-- ========== Image selector (dropzone + preview) ========== -->
                                <div class="row">
                                    <div class="col-md-4">
                                        <label for="productImage" class="form-label"><strong>Foto</strong></label>
                                        <!-- Dropzone -->
                                        <div id="imageDropzone"
                                            class="border border-2 border-dashed rounded-3 p-4 text-center bg-light position-relative"
                                            role="button" tabindex="0" aria-label="Selecciona o arrastra una imagen">
                                            <!-- Initial content -->
                                            <div id="dropzoneContent"
                                                class="d-flex flex-column align-items-center gap-2">
                                                <p class="m-0">
                                                    <strong>Arrastra tu imagen aquí</strong>
                                                    <span class="text-muted">o</span>
                                                    <span class="text-decoration-underline">haz clic</span>
                                                </p>
                                                <small class="text-muted">JPG o PNG</small>
                                                <button type="button"
                                                    class="btn btn-outline-dark btn-sm rounded-0 mt-2">
                                                    Seleccionar imagen
                                                </button>
                                            </div>
                                            <!-- Preview  -->
                                            <div id="previewWrapper" class="d-none">
                                                <img id="previewImage" class="img-fluid rounded shadow-sm"
                                                    style="max-height: 220px;" alt="Vista previa">
                                                <div class="mt-3 d-flex gap-2 justify-content-center">
                                                    <button type="button" id="changeImageBtn"
                                                        class="btn btn-outline-dark btn-sm rounded-0">
                                                        Cambiar imagen
                                                    </button>
                                                    <button type="button" id="removeImageBtn"
                                                        class="btn btn-outline-secondary btn-sm rounded-0">
                                                        Quitar
                                                    </button>
                                                </div>
                                            </div>
                                            <!-- Real input  -->
                                            <input type="file" id="productImage" name="productImage" accept="image/*"
                                                class="visually-hidden" required>
                                        </div>
                                        <!-- Help/error messages -->
                                        <div id="imageHelp" class="form-text p-1 text-center">Selecciona una imagen clara del producto.</div>
                                        <div id="imageError" class="invalid-feedback d-block d-none"></div>
                                        <!-- Minimal styles -->
                                        <style>
                                            .border-dashed {
                                                border-style: dashed !important;
                                            }
                                            #imageDropzone.dragover {
                                                background: #f0f6ff;
                                                border-color: #492319 !important;
                                            }
                                        </style>
                                    </div>
                                    <div class="col-md-8 align-items-start">
                                        <!-- Product name -->
                                        <div class="mb-2">
                                            <label for="product-title" class="form-label"><strong>Nombre</strong></label>
                                            <input type="text" id="product-title" class="form-control"
                                                placeholder="Ej. Capuchino" value="" required />
                                        </div>
                                        
                                        <!-- Product description -->
                                        <div class="mb-2">
                                            <label for="product-description"
                                                class="form-label"><strong>Descripción</strong></label>
                                            <textarea id="product-description" class="form-control" rows="2"
                                                placeholder="Descripción del producto que explica los ingredientes básicos."
                                                required></textarea>
                                        </div>
                                        <!-- Promo -->
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="prodPromo">
                                            <label class="form-check-label" for="prodPromo">
                                                Marcar como <strong>PROMO</strong>
                                            </label>
                                        </div>
                                        <!-- Active -->
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="product-active" checked>
                                            <label class="form-check-label" for="product-active">Producto activo</label>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Choose if you add a dessert or drink -->
                                <fieldset class="mb-4 mt-5">
                                    <legend class="h5 fw-bold mb-2">Tipo de producto</legend>
                                    <div class="d-flex gap-4">
                                        <div class="form-check">
                                        <input class="form-check-input" type="radio" name="product-type" value="drink" checked>
                                        <label class="form-check-label">Bebida</label>
                                        </div>
                                        <div class="form-check">
                                        <input class="form-check-input" type="radio" name="product-type" value="dessert">
                                        <label class="form-check-label">Postre</label>
                                        </div>
                                    </div>
                                </fieldset>

                                <div id="drink-section">
                                    <label class="form-label"><strong>Sección</strong></label>
                                    <!-- <select class="form-select mb-3"> -->
                                        <select id="product-section" class="form-select mb-3">
                                        <option>Con café</option>
                                        <option>Sin café</option>
                                        <option>Postres</option>
                                    </select>
                                </div>





                                <!-- Product selection option 2×2 -->
                                <div class="container-fluid pt-1 px-0">
                                    <div class="row g-4">
                                        <!-- Temperature -->
                                        <div class="col-12 col-lg-6">
                                            <div class="card border-0 shadow-sm h-100">
                                                <div class="card-body">
                                                    <fieldset>
                                                        <legend class="h5 fw-bold mb-2">Temperatura</legend>
                                                        <div class="ps-1 mt-2">
                                                            <div class="form-check mb-2">
                                                                <input class="form-check-input" type="checkbox"
                                                                    name="temperatures[]" id="temp-caliente"
                                                                    value="Caliente" checked>
                                                                <label class="form-check-label"
                                                                    for="temp-caliente">Caliente</label>
                                                            </div>
                                                            <div class="form-check mb-2">
                                                                <input class="form-check-input" type="checkbox"
                                                                    name="temperatures[]" id="temp-rocas"
                                                                    value="A las rocas">
                                                                <label class="form-check-label" for="temp-rocas">A las
                                                                    rocas</label>
                                                            </div>
                                                            <div class="form-check mb-2">
                                                                <input class="form-check-input" type="checkbox"
                                                                    name="temperatures[]" id="temp-frappe"
                                                                    value="Frappé">
                                                                <label class="form-check-label"
                                                                    for="temp-frappe">Frappé</label>
                                                            </div>
                                                        </div>
                                                    </fieldset>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Sizes -->
                                        <!-- <div class="col-12 col-lg-6">
                                            <div class="card border-0 shadow-sm h-100">
                                                <div class="card-body">
                                                    <fieldset>
                                                        <legend class="h5 fw-bold mb-2"><i class="bi bi-cup-hot"></i>
                                                            Tamaños</legend>
                                                        <div class="ps-1 mt-2">
                                                            <div class="form-check mb-2">
                                                                <input class="form-check-input" type="checkbox"
                                                                    name="sizes[]" id="size-chico"
                                                                    value="Chico (14 oz.)">
                                                                <label class="form-check-label" for="size-chico">Chico
                                                                    (14 oz.)</label>
                                                                <small class="text-muted ms-1">($0)</small>
                                                            </div>
                                                            <div class="form-check mb-2">
                                                                <input class="form-check-input" type="checkbox"
                                                                    name="sizes[]" id="size-mediano"
                                                                    value="Mediano (16 oz.)">
                                                                <label class="form-check-label"
                                                                    for="size-mediano">Mediano (16 oz.)</label>
                                                                <small class="text-muted ms-1">($0)</small>
                                                            </div>
                                                            <div class="form-check mb-2">
                                                                <input class="form-check-input" type="checkbox"
                                                                    name="sizes[]" id="size-grande"
                                                                    value="Grande (20 oz.)">
                                                                <label class="form-check-label" for="size-grande">Grande
                                                                    (20 oz.)</label>
                                                                <small class="text-muted ms-1">($0)</small>
                                                            </div>
                                                        </div>
                                                    </fieldset>
                                                </div>
                                            </div>
                                        </div> -->
                                        
                                        <div class="col-12 col-lg-6">
                                            <div class="card border-0 shadow-sm h-100">
                                                <div class="card-body">
                                                    <fieldset>
                                                        <legend class="h5 fw-bold mb-2">Precios por tamaño</legend>
                                                            <!-- CH -->
                                                        <div class="form-check d-flex align-items-center mb-2">
                                                            <input class="form-check-input me-2 size-check" type="checkbox" id="size-ch" data-target="price-ch">
                                                            <label class="form-check-label me-3" for="size-ch">CH</label>
                                                            <input type="number" class="form-control w-50 d-none"
                                                                id="price-ch" name="price_ch" placeholder="$0.00" min="0" step="0.01">
                                                        </div>
                                                        <!-- M -->
                                                        <div class="form-check d-flex align-items-center mb-2">
                                                            <input class="form-check-input me-2 size-check" type="checkbox" id="size-m" data-target="price-m">
                                                            <label class="form-check-label me-3" for="size-m">M</label>
                                                            <input type="number" class="form-control w-50 d-none"
                                                                id="price-m" name="price_m" placeholder="$0.00" min="0" step="0.01">
                                                        </div>
                                                        <!-- G -->
                                                        <div class="form-check d-flex align-items-center">
                                                            <input class="form-check-input me-2 size-check" type="checkbox" id="size-g" data-target="price-g">
                                                            <label class="form-check-label me-3" for="size-g">G</label>
                                                            <input type="number" class="form-control w-50 d-none"
                                                                id="price-g" name="price_g" placeholder="$0.00" min="0" step="0.01">
                                                        </div>
                                                    </fieldset>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Milk types  -->
                                        <div class="col-12 col-lg-6">
                                            <div class="card border-0 shadow-sm h-100">
                                                <div class="card-body">
                                                    <fieldset>
                                                        <legend class="h5 fw-bold mb-2"><i class="bi bi-cup-hot"></i>
                                                            Tipos de leche</legend>
                                                        <div class="ps-1 mt-2">
                                                            <div class="form-check mb-2">
                                                                <input class="form-check-input" type="checkbox"
                                                                    name="milks[]" id="milk-regular" value="Regular"
                                                                    checked>
                                                                <label class="form-check-label"
                                                                    for="milk-regular">Regular</label>
                                                            </div>
                                                            <div class="form-check mb-2">
                                                                <input class="form-check-input" type="checkbox"
                                                                    name="milks[]" id="milk-deslactosada"
                                                                    value="Deslactosada">
                                                                <label class="form-check-label"
                                                                    for="milk-deslactosada">Deslactosada</label>
                                                            </div>
                                                            <div class="form-check mb-2">
                                                                <input class="form-check-input" type="checkbox"
                                                                    name="milks[]" id="milk-light" value="Light">
                                                                <label class="form-check-label"
                                                                    for="milk-light">Light</label>
                                                            </div>
                                                            <div class="form-check mb-2">
                                                                <input class="form-check-input" type="checkbox"
                                                                    name="milks[]" id="milk-almendras"
                                                                    value="Almendras">
                                                                <label class="form-check-label"
                                                                    for="milk-almendras">Almendras</label>
                                                            </div>
                                                            <div class="form-check mb-2">
                                                                <input class="form-check-input" type="checkbox"
                                                                    name="milks[]" id="milk-soya" value="Soya">
                                                                <label class="form-check-label"
                                                                    for="milk-soya">Soya</label>
                                                            </div>
                                                            <div class="form-check mb-2">
                                                                <input class="form-check-input" type="checkbox"
                                                                    name="milks[]" id="milk-coco" value="Coco">
                                                                <label class="form-check-label"
                                                                    for="milk-coco">Coco</label>
                                                            </div>
                                                        </div>
                                                    </fieldset>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Extras -->
                                        <div class="col-12 col-lg-6">
                                            <div class="card border-0 shadow-sm h-100">
                                                <div class="card-body">
                                                    <fieldset>
                                                        <legend class="h5 fw-bold mb-2"><i
                                                                class="bi bi-plus-circle"></i> Extras</legend>
                                                        <div class="ps-1 mt-2">
                                                            <div class="form-check mb-2">
                                                                <input class="form-check-input" type="checkbox"
                                                                    name="extras[]" id="extra-no" value="Sin extras"
                                                                    checked>
                                                                <label class="form-check-label" for="extra-no">Sin
                                                                    extras</label>
                                                            </div>
                                                            <div class="form-check mb-2">
                                                                <input class="form-check-input" type="checkbox"
                                                                    name="extras[]" id="extra-espresso"
                                                                    value="Shot de espresso">
                                                                <label class="form-check-label"
                                                                    for="extra-espresso">Shot de espresso</label>
                                                            </div>
                                                            <div class="form-check mb-2">
                                                                <input class="form-check-input" type="checkbox"
                                                                    name="extras[]" id="extra-jarabe"
                                                                    value="Shot de jarabe">
                                                                <label class="form-check-label" for="extra-jarabe">Shot
                                                                    de jarabe saborizante</label>
                                                            </div>
                                                            <div class="form-check mb-2">
                                                                <input class="form-check-input" type="checkbox"
                                                                    name="extras[]" id="extra-tapioca" value="Tapioca">
                                                                <label class="form-check-label"
                                                                    for="extra-tapioca">Tapioca</label>
                                                            </div>
                                                            <div class="form-check mb-2">
                                                                <input class="form-check-input" type="checkbox"
                                                                    name="extras[]" id="extra-vainilla"
                                                                    value="Nieve de vainilla">
                                                                <label class="form-check-label"
                                                                    for="extra-vainilla">Nieve de vainilla</label>
                                                            </div>
                                                            <div class="form-check mb-2">
                                                                <input class="form-check-input" type="checkbox"
                                                                    name="extras[]" id="extra-foam" value="Foam">
                                                                <label class="form-check-label"
                                                                    for="extra-foam">Foam</label>
                                                            </div>
                                                            <div class="form-check mb-2">
                                                                <input class="form-check-input" type="checkbox"
                                                                    name="extras[]" id="extra-cheesefoam"
                                                                    value="Cheese foam">
                                                                <label class="form-check-label"
                                                                    for="extra-cheesefoam">Cheese foam</label>
                                                            </div>
                                                        </div>
                                                    </fieldset>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Additional notes -->
                                <hr class="m-4">
                            
                                <!-- Centered button -->
                                <div class="row m-4">
                                    <div class="col-10 mx-auto d-flex justify-content-center">
                                        <button class="btn btn-dark px-4" type="submit">
                                            Agregar producto
                                        </button>
                                    </div>
                                </div>
                            </div><!-- /modal-body -->
                        </div><!-- /modal-content -->
                    </div><!-- /modal-dialog -->
                </form>
            </div><!-- /modal -->
        </section>
    </div>
</main>

    <!-- Bootstrap Bundle (with Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>

    <!-- Animated icons (needed for <animated-icons>) -->
    <script src="https://animatedicons.co/scripts/embed-animated-icons.js"></script>

    <!-- Components loader -->
    <script src="/src/js/load-components.js"></script>

    <!-- Admin-specific JS -->
    <script src="/src/js/admin-menu.ui.js" defer></script>

    <!-- Logic forms  -->
    <script src="/src/js/admin-menu.controller.js" type="module"></script>

</body>
</html>
