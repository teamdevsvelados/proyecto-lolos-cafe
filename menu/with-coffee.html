<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Menú - Con Café</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <link rel="stylesheet" href="/src/styles/main.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />

</head>

<body class="products with-coffee">
<div id="header-placeholder"></div>
<main data-category="with-coffee">
  <div class="categories-tabs">
    <header>
      <div class="container">
        <div class="row align-items-center my-0 ms-n2 g-3">
          <div class="col-auto ms-n5">
            <a href="/menu.html" class="back-btn">←</a>
          </div>
          <div class="col-auto d-flex align-items-center">
            <h1 class="mb-0">Nuestro menú</h1>
          </div>
        </div>
      </div>
    </header>
  
    <div class="d-flex w-100 text-center top-buttons-menu container" >
      <a href="/menu/with-coffee.html" class="flex-fill btn btn-dark rounded-0">CON CAFÉ</a>
      <a href="/menu/without-coffee.html" class="flex-fill btn btn-outline-dark rounded-0">SIN CAFÉ</a>
      <a href="/menu/desserts.html" class="flex-fill btn btn-outline-dark rounded-0">POSTRES</a>
    </div>
  </div>
    
    <!-- Coffee drinks -->
    <div class="container d-flex justify-content-around flex-wrap">
    
      <!-- Products injected from db.js -->
      <div id="products-container" class="row"></div>

    <!-- Modal included -->
    <div class="modal fade" id="modalDrinks" tabindex="-1">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">


          <!-- Modal header -->
          <div class="modal-body p-4">
            <div class="d-flex align-items-center justify-content-between mb-4">
              <h3 class="mb-0">Arma tu bebida</h3>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <!-- Product Info -->
            <div class="row align-items-center">
              <div class="col-md-5 text-center">
                <img id="modalImg" class="img-fluid mx-auto" style="max-height: 250px;" alt="Información de la bebida">
              </div>
              <div class="col-md-7">
                <h3 id="modalTitle" class="fw-bold mb-1"></h3>
                <p id="modalPrice" class="fw-bold text-muted mb-1"></p>
                <p id="modalDescription" class="text-secondary small"></p>
                <span id="modalBadge" class="badge bg-success opacity-75 mt-2 d-none"></span>
              </div>
            </div>

            <!-- Select temp -->
            <hr class="my-4">
            <div class="col-12">
              <h5 class="fw-bold"><i class="bi bi-thermometer-half me-2"></i>Temperatura</h5>
              <div id="temperature-options" class="ps-4 mt-2">
                <!-- options populated by script -->
              </div>
            </div>
            
            <!-- Select size -->
            <hr class="my-4">
            <div class="col-12">
              <h5 class="fw-bold"><i class="bi bi-cup-hot me-2"></i>Tamaño</h5>
              <div id="size-options" class="ps-4 mt-2">
                <!-- options populated by script -->
              </div>
            </div>

            <!-- Select Milk -->
            <hr class="my-4">
            <div class="col-12">
              <h5 class="fw-bold"><i class="bi bi-cup-hot me-2"></i>Tipo de leche</h5>
              <div id="milks-container" class="ps-4 mt-2">
                <!-- options populated by script -->
              </div>
            </div>

            <!-- Selec extras -->
            <hr class="my-4">
            <div class="col-12">
              <h5 class="fw-bold"><i class="bi bi-cup-hot me-2"></i>Extras</h5>
              <div id="extras-container" class="ps-4 mt-2">
                <!-- options populated by script -->
              </div>
            </div>

            <!-- Extra notes -->
            <hr class="my-4">
            <div class="col-12 mb-5">
              <h5 class="fw-bold"><i class="bi bi-pencil me-2"></i>Notas adicionales</h5>
              <p class="text-muted small ps-4">
                Cuéntanos si tu pedido tiene alguna indicación especial
              </p>
              <div class="ps-4">
                <textarea id="modalNotes" class="form-control bg-light border-0" rows="2"
                  placeholder="Escribe aquí..."></textarea>
              </div>
            </div>

            <!-- Purchase confirmation -->
            <div class="modal-footer p-sm-4 position-sticky bottom-0">
              <div class="d-flex justify-content-between align-items-center w-100 mb-4">
                <div class="input-group quantity-selector">
                  <button class="btn btn-outline-secondary border-secondary-subtle" type="button"
                    id="btn-menos">−</button>
                  <input type="text" id="input-cantidad" class="form-control text-center border-secondary-subtle"
                    value="1" readonly>
                  <button class="btn btn-outline-secondary border-secondary-subtle" type="button"
                    id="btn-mas">+</button>
                </div>
                <div class="text-end">
                  <span class="fw-bold me-2">Total</span>
                  <span class="fw-bold" id="modal-total-dinamico">$ 0.00</span>
                </div>
              </div>

              <div class="d-flex gap-2 w-100">
                <button class="cta-btn-secondary w-100 text-uppercase cancel-btn" data-bs-dismiss="modal">
                  Cancelar
                </button> 
                <button class="cta-btn-secondary w-100 text-uppercase " id="btnAgregarCarrito">
                  Agregar
                </button>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
     <!-- Sidebar Shopping Cart -->
  <div class="modal fade" id="modalCarrito" tabindex="-1">
    <div class="modal-dialog modal-dialog-end modal-full-height">
      <div class="modal-content">

        <!-- Header -->
        <div class="modal-header">
          <h5 class="modal-title">
            <i class="bi bi-cart"></i> Tu pedido
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>

        <!-- Body -->
        <div class="modal-body">
          <div id="cartItems" class="d-flex flex-column gap-3">
            <!-- Items dinámicos -->
          </div>
        </div>

        <!-- Footer -->
        <div class="modal-footer flex-column cart-total">
          <div class="w-100 d-flex justify-content-between fw-bold mb-2">
            <span id="labelTotal">Total</span>
            <span id="cartTotal">$0.00</span>
          </div>
          <button id="btnFinalizarPedido" type="button" class="cta-btn-secondary w-100">
            Finalizar pedido
          </button>
          <button type="button" class="cta-btn-secondary cancel-btn w-100" data-bs-dismiss="modal">
            Agregar más productos
          </button>
        </div>

      </div>
    </div>
  </div>


  </main>
  <div id="footer-placeholder"></div>
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
  <script type="module" src="/src/js/utils/loadComponents.js"></script>
  <script type="module" src="/src/js/utils/cartSync.js"></script>
  <script src="https://animatedicons.co/scripts/embed-animated-icons.js"></script>
  
  <script type="module" src="/src/js/ui/cartManagerDesserts.js"></script>
  <script type="module" src="/src/js/ui/checkoutHandler.js"></script>
  <script type="module" src="/src/js/ui/productModalLoader.js"></script>
  <script type="module" src="/src/js/ui/menuProducts.js
  "></script>


</body>

</html>